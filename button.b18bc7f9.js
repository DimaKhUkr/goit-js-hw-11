!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var s=a("bpxeT"),i=a("2TvXO"),o=a("6JpON"),c=a("dIxxU"),l=a("5IjG7"),u=40,d=document.querySelector("#search-form"),f=document.querySelector(".load-more"),p=document.querySelector(".gallery");d.elements.searcBtn.setAttribute("disabled","true");var h=1,y="";function m(){return(m=e(s)(e(i).mark((function t(n){var r,a,s;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),d.elements.searcBtn.setAttribute("disabled","true"),h=1,r=n.currentTarget.elements.searchQuery,0!==(a=r.value).trim().length){t.next=7;break}return d.reset(),t.abrupt("return",e(o).Notify.failure("Sorry, there are no images matching your search query. Please try again."));case 7:return t.prev=7,t.next=10,g(a);case 10:if(0!==(s=t.sent).hits.length){t.next=16;break}return d.reset(0===s.hits.length),t.abrupt("return",e(o).Notify.failure("Sorry, there are no images matching your search query. Please try again."));case 16:if(!(s.totalHits<=u)){t.next=23;break}return L(s),t.next=20,x(s.hits);case 20:return p.innerHTML=t.sent,w(),t.abrupt("return",e(o).Notify.failure("We're sorry, but you've reached the end of search results."));case 23:return L(s),t.next=26,x(s.hits);case 26:p.innerHTML=t.sent,w(),console.log(y),f.classList.remove("visually-hidden"),t.next=35;break;case 32:t.prev=32,t.t0=t.catch(7),console.log(t.t0.message);case 35:case"end":return t.stop()}}),t,null,[[7,32]])})))).apply(this,arguments)}function b(){return(b=e(s)(e(i).mark((function t(){var n,r,a;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.classList.add("visually-hidden"),h+=1,n=d.elements.searchQuery,r=n.value,t.prev=3,t.next=6,g(r);case 6:if(a=t.sent,console.log(y),console.log(a.totalHits),console.log(a.hits.length),!(a.totalHits-(a.hits.length*h+u)<=0)){t.next=19;break}return f.classList.add("visually-hidden"),t.t0=p,t.next=15,x(a.hits);case 15:return t.t1=t.sent,t.t0.insertAdjacentHTML.call(t.t0,"beforeend",t.t1),y.refresh(),t.abrupt("return",e(o).Notify.failure("We're sorry, but you've reached the end of search results."));case 19:return t.t2=p,t.next=22,x(a.hits);case 22:t.t3=t.sent,t.t2.insertAdjacentHTML.call(t.t2,"beforeend",t.t3),y.refresh(),f.classList.remove("visually-hidden"),t.next=31;break;case 28:t.prev=28,t.t4=t.catch(3),console.log(t.t4.message);case 31:case"end":return t.stop()}}),t,null,[[3,28]])})))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=e(s)(e(i).mark((function t(n){var r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.default)({url:"https://pixabay.com/api/",params:{key:"33377492-476d22b77d4b85ba3622e340f",q:"".concat(n),image_type:"photo",orientation:"horizontal",safesearch:!0,page:h,per_page:u}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function x(e){return e.map((function(e){var t=e.largeImageURL,n=e.webformatURL,r=e.tags,a=e.likes,s=e.views,i=e.comments,o=e.downloads;return'\n      <a class="gallery__item" href="'.concat(t,'">\n      <div class="photo-card">\n      <img class="gallery__image" src="').concat(n,'" alt="').concat(r,'" loading="lazy" />\n      <div class="info">\n        <p class="info-item">\n          <b>Likes</b>').concat(a,'\n        </p>\n        <p class="info-item">\n          <b>Views</b>').concat(s,'\n        </p>\n        <p class="info-item">\n          <b>Comments</b>').concat(i,'\n        </p>\n        <p class="info-item">\n          <b>Downloads</b>').concat(o,"\n        </p>\n      </div></div></a>\n    ")})).join("")}function w(){y=new(e(l))(".gallery a")}function L(t){e(o).Notify.info("Hooray! We found ".concat(t.totalHits," images."))}d.addEventListener("input",(function(){return d.elements.searcBtn.removeAttribute("disabled","true")})),d.addEventListener("submit",(function(e){return m.apply(this,arguments)})),f.addEventListener("click",(function(){return b.apply(this,arguments)}))}();
//# sourceMappingURL=button.b18bc7f9.js.map
